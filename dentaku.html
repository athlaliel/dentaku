<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>dentaku</title>
  </head>

  <body>
    <style>
      button
      {
          width: 50px;
          height: 50px;
      }
      </style>
    <div>dentaku</div>
    <input style="font-size: 28px; text-align: right;" /><br />
    <script>
    function update( _v) // ここはinput-tagを更新させるための関数
    {
      document.querySelector( 'input' ).value = _v //=の意味は、上書きor更新
    }

    function append( _v) //数字ボタンを押すと数字が後ろに追加される
    {
      document.querySelector( 'input').value += _v //+=の意味は、追加
    }

    function calc() //ボタンを押したら計算する
    {
        const v = document.querySelector( 'input' ).value
        try {
            const f = new Function( 'return ' + v )
            update( f().toString() )
        } catch( _error ) {
            update( _error )
        }
    }
    

    </script>

    <button onclick="append( '1' )" >1</button>
    <button onclick="append( '2' )" >2</button>
    <button onclick="append( '3' )" >3</button>
    <button onclick="append( '4' )" >4</button>
    <button onclick="append( '5' )" >5</button><br />
    <button onclick="append( '6' )" >6</button>
    <button onclick="append( '7' )" >7</button>
    <button onclick="append( '8' )" >8</button>
    <button onclick="append( '9' )" >9</button>
    <button onclick="append( '0' )" >0</button><br />
    <button onclick="append( '.' )" >.</button>
    <button onclick="append( '+' )" >+</button>
    <button onclick="append( '-' )" >-</button>
    <button onclick="append( '*' )" >*</button>
    <button onclick="append( '/' )" >/</button><br />
    <button onclick="append( '%' )" >%</button>

    <button onclick="calc()" style="width:105px;">=</button>

    <button onclick="update( '' ) " >CLR</button>
  </body>

</html>